services:
  netdata:
    image: netdata/netdata
    container_name: netdata
    restart: unless-stopped
    
    # (중요) 호스트 시스템을 모니터링하기 위한 설정
    hostname: home-lab # (대시보드에 표시될 이름)
    privileged: true # (쉬운 방법)
    # (참고) privileged가 싫다면 아래 볼륨과 capability를 씁니다.
    # volumes:
    #   - /proc:/host/proc:ro
    #   - /sys:/host/sys:ro
    #   - /var/run/docker.sock:/var/run/docker.sock:ro
    # cap_add:
    #   - SYS_PTRACE
    # security_opt:
    #   - apparmor:unconfined

    ports:
      # NPM이 내부적으로 접속할 포트 (19999)
      - "19999:19999"
      
    networks:
      - proxy-net

networks:
  proxy-net:
    external: true